#! /usr/bin/env ruby
lib = File.expand_path(File.dirname(__FILE__) + '/../lib')
$LOAD_PATH.unshift(lib) if File.directory?(lib) && !$LOAD_PATH.include?(lib)

require "Computering"

abort "USAGE: computering bash|leap file [file ...]" if ARGV.empty?

begin
  type = ARGV.shift
  case type
  when "bash"
    puts "", "Start typing or exit with Ctrl+C", ""
  when "leap"
    puts "", "Start leaping or exit with Ctrl+C", ""
  else
    abort "you need to set the type to bash or leap"
  end
  ARGV.each do |file|
    cmd = Computering::Cmd.new type, file
    cmd.execute
  end
rescue Computering::Cmd::Exit
  puts "", "KTHXBYE!"
end
